/* DROP CASCADE CONSTRAINTS */

/*
DROP TABLE T_AM_GRR_BAIRRO CASCADE CONSTRAINTS;

DROP TABLE T_AM_GRR_CIDADE CASCADE CONSTRAINTS;

DROP TABLE T_AM_GRR_CLIENTE CASCADE CONSTRAINTS;

DROP TABLE T_AM_GRR_CONSUMO CASCADE CONSTRAINTS;

DROP TABLE T_AM_GRR_ESTADO CASCADE CONSTRAINTS;

DROP TABLE T_AM_GRR_FUNCIONARIO CASCADE CONSTRAINTS;

DROP TABLE T_AM_GRR_HIST_PRECO CASCADE CONSTRAINTS;

DROP TABLE T_AM_GRR_HIST_VALOR CASCADE CONSTRAINTS;

DROP TABLE T_AM_GRR_HOSPEDAGEM CASCADE CONSTRAINTS;

DROP TABLE T_AM_GRR_LOGRADOURO CASCADE CONSTRAINTS;

DROP TABLE T_AM_GRR_PAGAMENTO CASCADE CONSTRAINTS;

DROP TABLE T_AM_GRR_PAGCARTAO CASCADE CONSTRAINTS;

DROP TABLE T_AM_GRR_PAG_CHEQUE CASCADE CONSTRAINTS;

DROP TABLE T_AM_GRR_PESSOA CASCADE CONSTRAINTS;

DROP TABLE T_AM_GRR_PESSOA_ENDE CASCADE CONSTRAINTS;

DROP TABLE T_AM_GRR_PESSOA_FONE CASCADE CONSTRAINTS;

DROP TABLE T_AM_GRR_PRODUTO_SERVICO CASCADE CONSTRAINTS;

DROP TABLE T_AM_GRR_QUARTO CASCADE CONSTRAINTS;

DROP TABLE T_AM_GRR_REL_CHEQUE CASCADE CONSTRAINTS;

DROP TABLE T_AM_GRR_RESERVA CASCADE CONSTRAINTS;

DROP TABLE T_AM_GRR_RESERVA_QUARTO CASCADE CONSTRAINTS;

DROP TABLE T_AM_GRR_TELEFONE CASCADE CONSTRAINTS;

DROP TABLE T_AM_GRR_TIPO_FONE CASCADE CONSTRAINTS;

DROP TABLE T_AM_GRR_TIPO_FORMAPAG CASCADE CONSTRAINTS;

DROP TABLE T_AM_GRR_TIPO_LOGRADOURO CASCADE CONSTRAINTS;

DROP TABLE T_AM_GRR_TIPO_QUARTO CASCADE CONSTRAINTS;

*/

/* CRIANDO AS TABELAS E ADICIONANDO AS PRIMARY 
   KEYS, CONSTRAINTS UNIQUE E CONSTRAINT CHECK */

-- TABELA BAIRRO
CREATE TABLE T_AM_GRR_BAIRRO(
    cd_bairro NUMBER (5) NOT NULL ,
    cd_cidade NUMBER (5) NOT NULL ,
    nm_bairro VARCHAR2 (30 CHAR) NOT NULL
) ;
ALTER TABLE T_AM_GRR_BAIRRO 
ADD CONSTRAINT PK_AM_HBV_BAIRRO PRIMARY KEY ( cd_bairro ) ;

--TABELA CIDADE
CREATE TABLE T_AM_GRR_CIDADE(
    cd_cidade NUMBER (5) NOT NULL ,
    cd_estado NUMBER (2) NOT NULL ,
    nm_cidade VARCHAR2 (30 CHAR) NOT NULL
) ;
ALTER TABLE T_AM_GRR_CIDADE 
ADD CONSTRAINT PK_AM_HBV_CIDADE PRIMARY KEY ( cd_cidade ) ;

-- TABELA CLIENTE
CREATE TABLE T_AM_GRR_CLIENTE(
    cd_cliente          NUMBER (5) NOT NULL ,
    nr_cpf              NUMBER (11) NOT NULL ,
    nr_rg               VARCHAR2 (10 CHAR) NOT NULL ,
    ds_email            VARCHAR2 (60 CHAR) NOT NULL ,
    dt_nascimento       DATE NOT NULL ,
    nr_quarto_preferido NUMBER (4) ,
    ds_senha            VARCHAR2 (20 CHAR) NOT NULL
) ;
ALTER TABLE T_AM_GRR_CLIENTE 
ADD CONSTRAINT PK_AM_HBV_CLIENTE PRIMARY KEY ( cd_cliente ) ;
ALTER TABLE T_AM_GRR_CLIENTE 
ADD CONSTRAINT UN_AM_HBV_CLIENTE_RG UNIQUE ( nr_rg ) ;
ALTER TABLE T_AM_GRR_CLIENTE 
ADD CONSTRAINT UN_AM_HBV_CLIENTE_CPF UNIQUE ( nr_cpf ) ;
ALTER TABLE T_AM_GRR_CLIENTE 
ADD CONSTRAINT UN_AM_HBV_CLIENTE_EMAIL UNIQUE ( ds_email ) ;

-- TABELA CONSUMO
CREATE TABLE T_AM_GRR_CONSUMO(
    cd_consumo      NUMBER (8) NOT NULL ,
    cd_hospedagem   NUMBER (8) NOT NULL ,
    cd_pessoa       NUMBER (5) NOT NULL ,
    cd_tipo_servico NUMBER (5) NOT NULL ,
    dt_consumo      DATE NOT NULL ,
    qt_consumo      NUMBER (3) NOT NULL
) ;
ALTER TABLE T_AM_GRR_CONSUMO 
ADD CONSTRAINT CK_AM_HBV_CONSUMO CHECK (qt_consumo > 0) ;
ALTER TABLE T_AM_GRR_CONSUMO 
ADD CONSTRAINT PK_AM_HBV_CONSUMO PRIMARY KEY ( cd_consumo, cd_hospedagem ) ;

-- TABELA ESTADO
CREATE TABLE T_AM_GRR_ESTADO(
    cd_estado NUMBER (2) NOT NULL ,
    nm_estado VARCHAR2 (20 CHAR) NOT NULL ,
    sg_estado VARCHAR2 (2 CHAR) NOT NULL
) ;
ALTER TABLE T_AM_GRR_ESTADO 
ADD CONSTRAINT PK_AM_HBV_ESTADO PRIMARY KEY ( cd_estado ) ;
ALTER TABLE T_AM_GRR_ESTADO 
ADD CONSTRAINT UN_AM_HBV_ESTADO UNIQUE ( nm_estado , sg_estado ) ;

-- TABELA FUNCIONARIO
CREATE TABLE T_AM_GRR_FUNCIONARIO(
    cd_funcionario NUMBER (5) NOT NULL ,
    dt_admissao    DATE NOT NULL ,
    ds_cargo       VARCHAR2 (25 CHAR) NOT NULL
) ;
ALTER TABLE T_AM_GRR_FUNCIONARIO 
ADD CONSTRAINT PK_AM_HBV_FUNCIONARIO PRIMARY KEY ( cd_funcionario ) ;

-- TABELA HIST_PRECO
CREATE TABLE T_AM_GRR_HIST_PRECO(
    cd_hist_preco   NUMBER (8) NOT NULL ,
    cd_tipo_servico NUMBER (5) NOT NULL ,
    dt_validade     DATE NOT NULL ,
    vl_preco        NUMBER (6,2) NOT NULL
) ;
ALTER TABLE T_AM_GRR_HIST_PRECO 
ADD CONSTRAINT PK_AM_HBV_HIST_PRECO PRIMARY KEY(cd_hist_preco, cd_tipo_servico);

-- TABELA HIST_VALOR
CREATE TABLE T_AM_GRR_HIST_VALOR(
    cd_historico    NUMBER (6) NOT NULL ,
    cd_tipo_quarto  NUMBER (2) NOT NULL ,
    dt_validade     DATE NOT NULL ,
    vl_preco_quarto NUMBER (6,2) NOT NULL
) ;
ALTER TABLE T_AM_GRR_HIST_VALOR 
ADD CONSTRAINT PK_AM_HBV_HIST_VALOR PRIMARY KEY(cd_historico, cd_tipo_quarto);

-- TABELA HOSPEDAGEM
CREATE TABLE T_AM_GRR_HOSPEDAGEM(
    cd_hospedagem    NUMBER (8) NOT NULL ,
    cd_cliente       NUMBER (5) NOT NULL ,
    cd_funcionario   NUMBER (5) NOT NULL ,
    cd_reserva       NUMBER (8) NOT NULL ,
    cd_quarto        NUMBER (4) NOT NULL ,
    dt_entrada       DATE NOT NULL ,
    dt_saida         DATE ,
    vc_perc_desconto NUMBER (5,2) NOT NULL
) ;
ALTER TABLE T_AM_GRR_HOSPEDAGEM 
ADD CONSTRAINT CK_AM_HBV_HOSPEDAGEM_DATA CHECK (dt_saida >= dt_entrada) ;
ALTER TABLE T_AM_GRR_HOSPEDAGEM 
ADD CONSTRAINT PK_AM_HBV_HOSPEDAGEM PRIMARY KEY ( cd_hospedagem ) ;

-- TABELA LOGRADOURO
CREATE TABLE T_AM_GRR_LOGRADOURO(
    nr_cep             NUMBER (8) NOT NULL ,
    cd_bairro          NUMBER (5) NOT NULL ,
    cd_tipo_logradouro NUMBER (2) NOT NULL ,
    ds_descricao       VARCHAR2 (60 CHAR) NOT NULL
) ;
ALTER TABLE T_AM_GRR_LOGRADOURO 
ADD CONSTRAINT PK_AM_HBV_LOGRADOURO PRIMARY KEY ( nr_cep ) ;

-- TABELA PAGAMENTO
CREATE TABLE T_AM_GRR_PAGAMENTO(
    cd_hospedagem    NUMBER (8) NOT NULL ,
    cd_tipo_formapag NUMBER (1) NOT NULL ,
    dt_pagamento     DATE NOT NULL ,
    vl_pagamento     NUMBER (8,2) NOT NULL
) ;
ALTER TABLE T_AM_GRR_PAGAMENTO 
ADD CONSTRAINT PK_AM_HBV_PAGAMENTO PRIMARY KEY ( cd_hospedagem ) ;

--TABELA PAGCARTAO
CREATE TABLE T_AM_GRR_PAGCARTAO(
    cd_pagto_cartao NUMBER (6) NOT NULL ,
    cd_hospedagem   NUMBER (8) NOT NULL ,
    qt_parcela      NUMBER (1) NOT NULL
) ;
ALTER TABLE T_AM_GRR_PAGCARTAO 
ADD CONSTRAINT CK_AM_HBV_PAGCARTAO_PARC CHECK (qt_parcela > 0) ;
ALTER TABLE T_AM_GRR_PAGCARTAO 
ADD CONSTRAINT PK_AM_HBV_PAGCARTAO PRIMARY KEY(cd_pagto_cartao, cd_hospedagem);

-- TABELA PAG_CHEQUE
CREATE TABLE T_AM_GRR_PAG_CHEQUE(
    cd_pagto_cheque NUMBER (6) NOT NULL ,
    cd_hospedagem   NUMBER (8) NOT NULL ,
    nr_banco        NUMBER (4) NOT NULL
) ;
ALTER TABLE T_AM_GRR_PAG_CHEQUE 
ADD CONSTRAINT PK_AM_HBV_PAG_CHEQUE PRIMARY KEY(cd_pagto_cheque, cd_hospedagem);

-- TABELA PESSOA
CREATE TABLE T_AM_GRR_PESSOA(
    cd_pessoa NUMBER (5) NOT NULL ,
    nm_pessoa VARCHAR2 (60 CHAR) NOT NULL
) ;
ALTER TABLE T_AM_GRR_PESSOA 
ADD CONSTRAINT PK_AM_HBV_PESSOA PRIMARY KEY ( cd_pessoa ) ;

-- TABELA PESSOA_ENDE
CREATE TABLE T_AM_GRR_PESSOA_ENDE(
    cd_pessoa_ende NUMBER (8) NOT NULL ,
    nr_cep         NUMBER (8) NOT NULL ,
    cd_pessoa      NUMBER (5) NOT NULL ,
    nr_logradouro  NUMBER (5) NOT NULL ,
    ds_complemento VARCHAR2 (30 CHAR)
) ;
ALTER TABLE T_AM_GRR_PESSOA_ENDE 
ADD CONSTRAINT PK_AM_HBV_PESSOA_ENDE PRIMARY KEY ( cd_pessoa_ende, nr_cep ) ;

-- TABELA PESSOA_FONE
CREATE TABLE T_AM_GRR_PESSOA_FONE(
    cd_pessoa NUMBER (5) NOT NULL ,
    cd_fone   NUMBER (8) NOT NULL ,
    nr_ramal  NUMBER (4)
) ;
ALTER TABLE T_AM_GRR_PESSOA_FONE 
ADD CONSTRAINT PK_AM_HBV_PESSOA_FONE PRIMARY KEY ( cd_pessoa, cd_fone ) ;

-- TABELA PRODUTO_SERVICO
CREATE TABLE T_AM_GRR_PRODUTO_SERVICO(
    cd_tipo_servico NUMBER (5) NOT NULL ,
    ds_servico      VARCHAR2 (40 CHAR) NOT NULL ,
    nr_tipo         NUMBER (1) NOT NULL
) ;
ALTER TABLE T_AM_GRR_PRODUTO_SERVICO 
ADD CONSTRAINT CK_AM_HBV_PROD_SERVICO CHECK (nr_tipo IN (1,2)) ;
ALTER TABLE T_AM_GRR_PRODUTO_SERVICO 
ADD CONSTRAINT PK_AM_HBV_PRODUTO_SERVICO PRIMARY KEY ( cd_tipo_servico ) ;
ALTER TABLE T_AM_GRR_PRODUTO_SERVICO 
ADD CONSTRAINT UN_AM_HBV_PROD_SERV_DESC UNIQUE ( ds_servico ) ;

-- TABELA QUARTO
CREATE TABLE T_AM_GRR_QUARTO(
    cd_quarto      NUMBER (4) NOT NULL ,
    cd_tipo_quarto NUMBER (2) NOT NULL ,
    nr_andar       NUMBER (2) NOT NULL ,
    nr_capacidade  NUMBER (1) NOT NULL
) ;
ALTER TABLE T_AM_GRR_QUARTO 
ADD CONSTRAINT PK_AM_HBV_QUARTO PRIMARY KEY ( cd_quarto ) ;

-- TABELA REL_CHEQUE
CREATE TABLE T_AM_GRR_REL_CHEQUE(
    nr_parcela      NUMBER (8) NOT NULL ,
    cd_pagto_cheque NUMBER (6) NOT NULL ,
    cd_hospedagem   NUMBER (8) NOT NULL ,
    nr_cheque       NUMBER (5) NOT NULL ,
    vl_parcela      NUMBER (8,2) NOT NULL
) ;
ALTER TABLE T_AM_GRR_REL_CHEQUE 
ADD CONSTRAINT PK_AM_HBV_REL_CHEQUE 
PRIMARY KEY ( cd_pagto_cheque, cd_hospedagem, nr_parcela ) ;

-- TABELA RESERVA
CREATE TABLE T_AM_GRR_RESERVA(
    cd_reserva        NUMBER (8) NOT NULL ,
    cd_cliente        NUMBER (5) NOT NULL ,
    cd_funcionario    NUMBER (5) NOT NULL ,
    dt_solicitacao    DATE NOT NULL ,
    dt_inicio_reserva DATE NOT NULL ,
    dt_final_reserva  DATE NOT NULL ,
    qt_adulto         NUMBER (1) NOT NULL ,
    qt_crianca        NUMBER (1) NOT NULL ,
    st_reserva        NUMBER (1) NOT NULL
) ;
ALTER TABLE T_AM_GRR_RESERVA 
ADD CONSTRAINT CK_AM_HBV_RESERVA CHECK (st_reserva IN (1,2,3)) ;
ALTER TABLE T_AM_GRR_RESERVA 
ADD CONSTRAINT CK_AM_HBV_RESERVA_DATA 
CHECK (dt_final_reserva >= dt_inicio_reserva) ;
ALTER TABLE T_AM_GRR_RESERVA 
ADD CONSTRAINT PK_AM_HBV_RESERVA PRIMARY KEY ( cd_reserva ) ;

-- TABELA RESERVA_QUARTO
CREATE TABLE T_AM_GRR_RESERVA_QUARTO(
    cd_reserva       NUMBER (8) NOT NULL ,
    cd_quarto        NUMBER (4) NOT NULL ,
    qt_pessoa_quarto NUMBER (1) NOT NULL ,
    ds_observacao    VARCHAR2 (128 CHAR)
) ;
ALTER TABLE T_AM_GRR_RESERVA_QUARTO 
ADD CONSTRAINT PK_AM_HBV_RESERVA_QUARTO PRIMARY KEY ( cd_reserva, cd_quarto ) ;

-- TABELA TELEFONE
CREATE TABLE T_AM_GRR_TELEFONE(
    cd_fone      NUMBER (8) NOT NULL ,
    cd_tipo_fone NUMBER (2) NOT NULL ,
    nr_ddd       NUMBER (3) NOT NULL ,
    nr_telefone  NUMBER (9) NOT NULL
) ;
ALTER TABLE T_AM_GRR_TELEFONE 
ADD CONSTRAINT PK_AM_HBV_TELEFONE PRIMARY KEY ( cd_fone ) ;

-- TABELA TIPO_FONE
CREATE TABLE T_AM_GRR_TIPO_FONE(
    cd_tipo_fone NUMBER (2) NOT NULL ,
    ds_tipo_fone VARCHAR2 (20 CHAR) NOT NULL
) ;
ALTER TABLE T_AM_GRR_TIPO_FONE 
ADD CONSTRAINT PK_AM_HBV_FONE PRIMARY KEY ( cd_tipo_fone ) ;
ALTER TABLE T_AM_GRR_TIPO_FONE 
ADD CONSTRAINT UN_AM_HBV_TIPO_FONE UNIQUE ( ds_tipo_fone ) ;

-- TABELA TIPO_FORMAPAG
CREATE TABLE T_AM_GRR_TIPO_FORMAPAG(
    cd_tipo_formapag NUMBER (1) NOT NULL ,
    ds_formapag      VARCHAR2 (40 CHAR) NOT NULL
) ;
ALTER TABLE T_AM_GRR_TIPO_FORMAPAG 
ADD CONSTRAINT PK_AM_HBV_TIPO_FORMAPAG PRIMARY KEY ( cd_tipo_formapag ) ;
ALTER TABLE T_AM_GRR_TIPO_FORMAPAG 
ADD CONSTRAINT UN_AM_HBV_TIPO_FORMAPAG UNIQUE ( ds_formapag ) ;

-- TABELA TIPO_LOGRADOURO
CREATE TABLE T_AM_GRR_TIPO_LOGRADOURO(
    cd_tipo_logradouro NUMBER (2) NOT NULL ,
    ds_tipo_logradouro VARCHAR2 (30 CHAR) NOT NULL
) ;
ALTER TABLE T_AM_GRR_TIPO_LOGRADOURO 
ADD CONSTRAINT PK_AM_HBV_TIPO_LOG PRIMARY KEY ( cd_tipo_logradouro ) ;
ALTER TABLE T_AM_GRR_TIPO_LOGRADOURO 
ADD CONSTRAINT UN_AM_HBV_TIPO_LOG UNIQUE ( ds_tipo_logradouro ) ;

-- TABELA TIPO_QUARTO
CREATE TABLE T_AM_GRR_TIPO_QUARTO(
    cd_tipo_quarto NUMBER (2) NOT NULL ,
    ds_tipo_quarto VARCHAR2 (25 CHAR) NOT NULL ,
    ds_observacao  VARCHAR2 (128 CHAR)
) ;
ALTER TABLE T_AM_GRR_TIPO_QUARTO 
ADD CONSTRAINT PK_AM_HBV_TIPO_QUARTO PRIMARY KEY ( cd_tipo_quarto ) ;

/* ADICIONANDO AS FOREIGN KEYS ÀS TABELAS */

-- TABELA BAIRRO
ALTER TABLE T_AM_GRR_BAIRRO 
ADD CONSTRAINT FK_AM_HBV_BAIRRO_CIDADE 
FOREIGN KEY ( cd_cidade ) REFERENCES T_AM_GRR_CIDADE ( cd_cidade ) ;

-- TABELA CIDADE
ALTER TABLE T_AM_GRR_CIDADE 
ADD CONSTRAINT FK_AM_HBV_CIDADE_ESTADO 
FOREIGN KEY ( cd_estado ) REFERENCES T_AM_GRR_ESTADO ( cd_estado ) ;

-- TABELA CLIENTE
ALTER TABLE T_AM_GRR_CLIENTE 
ADD CONSTRAINT FK_AM_HBV_CLIENTE_PESSOA
FOREIGN KEY ( cd_cliente ) REFERENCES T_AM_GRR_PESSOA ( cd_pessoa ) ;

-- TABELA CONSUMO
ALTER TABLE T_AM_GRR_CONSUMO 
ADD CONSTRAINT FK_AM_HBV_CONSUMO_FUNC 
FOREIGN KEY ( cd_pessoa ) REFERENCES T_AM_GRR_FUNCIONARIO ( cd_funcionario ) ;

ALTER TABLE T_AM_GRR_CONSUMO
ADD CONSTRAINT FK_AM_HBV_CONSUMO_HOSPEDAGEM
FOREIGN KEY ( cd_hospedagem ) REFERENCES T_AM_GRR_HOSPEDAGEM (cd_hospedagem );

ALTER TABLE T_AM_GRR_CONSUMO 
ADD CONSTRAINT FK_AM_HBV_CONSUMO_PROD_SERV 
FOREIGN KEY ( cd_tipo_servico ) 
REFERENCES T_AM_GRR_PRODUTO_SERVICO ( cd_tipo_servico ) ;

-- TABELA TELEFONE
ALTER TABLE T_AM_GRR_TELEFONE 
ADD CONSTRAINT FK_AM_HBV_FONE_TIPO_FONE 
FOREIGN KEY ( cd_tipo_fone ) REFERENCES T_AM_GRR_TIPO_FONE ( cd_tipo_fone ) ;

-- TABELA FUNCIONARIO
ALTER TABLE T_AM_GRR_FUNCIONARIO 
ADD CONSTRAINT FK_AM_HBV_FUNC_PESSOA 
FOREIGN KEY ( cd_funcionario ) REFERENCES T_AM_GRR_PESSOA ( cd_pessoa ) ;

-- TABELA HIST_VALOR
ALTER TABLE T_AM_GRR_HIST_VALOR 
ADD CONSTRAINT FK_AM_HBV_HISTVALOR_TIPOQUARTO 
FOREIGN KEY ( cd_tipo_quarto ) REFERENCES T_AM_GRR_TIPO_QUARTO(cd_tipo_quarto);

-- TABELA HOSPEDAGEM
ALTER TABLE T_AM_GRR_HOSPEDAGEM 
ADD CONSTRAINT FK_AM_HBV_HOSPEDAGEM_CLIENTE 
FOREIGN KEY ( cd_cliente ) REFERENCES T_AM_GRR_CLIENTE ( cd_cliente ) ;

ALTER TABLE T_AM_GRR_HOSPEDAGEM 
ADD CONSTRAINT FK_AM_HBV_HOSPEDAGEM_FUNC 
FOREIGN KEY ( cd_funcionario ) REFERENCES T_AM_GRR_FUNCIONARIO(cd_funcionario);

ALTER TABLE T_AM_GRR_HOSPEDAGEM 
ADD CONSTRAINT FK_AM_HBV_HOSP_RESERVAQTO 
FOREIGN KEY ( cd_reserva, cd_quarto ) 
REFERENCES T_AM_GRR_RESERVA_QUARTO ( cd_reserva, cd_quarto ) ;

-- TABELA LOGRADOURO
ALTER TABLE T_AM_GRR_LOGRADOURO 
ADD CONSTRAINT FK_AM_HBV_LOGRADOURO_BAIRRO 
FOREIGN KEY ( cd_bairro ) REFERENCES T_AM_GRR_BAIRRO ( cd_bairro ) ;

ALTER TABLE T_AM_GRR_LOGRADOURO 
ADD CONSTRAINT FK_AM_HBV_LOGRADOURO_TIPO_LOG 
FOREIGN KEY ( cd_tipo_logradouro ) 
REFERENCES T_AM_GRR_TIPO_LOGRADOURO ( cd_tipo_logradouro ) ;

ALTER TABLE T_AM_GRR_PAGCARTAO 
ADD CONSTRAINT FK_AM_HBV_PAGCARTAO_PAGTO 
FOREIGN KEY ( cd_hospedagem ) REFERENCES T_AM_GRR_PAGAMENTO ( cd_hospedagem ) ;

-- TABELA PAGAMENTO
ALTER TABLE T_AM_GRR_PAGAMENTO 
ADD CONSTRAINT FK_AM_HBV_PAGTO_HOSPEDAGEM 
FOREIGN KEY ( cd_hospedagem ) REFERENCES T_AM_GRR_HOSPEDAGEM (cd_hospedagem);

ALTER TABLE T_AM_GRR_PAGAMENTO 
ADD CONSTRAINT FK_AM_HBV_PAGTO_TIPO_FORMAPAG 
FOREIGN KEY ( cd_tipo_formapag ) 
REFERENCES T_AM_GRR_TIPO_FORMAPAG ( cd_tipo_formapag ) ;

-- TABELA PAG_CHEQUE
ALTER TABLE T_AM_GRR_PAG_CHEQUE 
ADD CONSTRAINT FK_AM_HBV_PAG_CHEQUE_PAGTO 
FOREIGN KEY ( cd_hospedagem ) REFERENCES T_AM_GRR_PAGAMENTO ( cd_hospedagem ) ;

-- TABELA PESSOA_ENDE
ALTER TABLE T_AM_GRR_PESSOA_ENDE 
ADD CONSTRAINT FK_AM_HBV_PESSOA_ENDE_LOG 
FOREIGN KEY ( nr_cep ) REFERENCES T_AM_GRR_LOGRADOURO ( nr_cep ) ;

ALTER TABLE T_AM_GRR_PESSOA_ENDE 
ADD CONSTRAINT FK_AM_HBV_PESSOA_ENDE_PESSOA 
FOREIGN KEY ( cd_pessoa ) REFERENCES T_AM_GRR_PESSOA ( cd_pessoa ) ;

-- TABELA PESSOA_FONE
ALTER TABLE T_AM_GRR_PESSOA_FONE 
ADD CONSTRAINT FK_AM_HBV_PESSOA_FONE_FONE 
FOREIGN KEY ( cd_fone ) REFERENCES T_AM_GRR_TELEFONE ( cd_fone ) ;

ALTER TABLE T_AM_GRR_PESSOA_FONE 
ADD CONSTRAINT FK_AM_HBV_PESSOA_FONE_PESSOA 
FOREIGN KEY ( cd_pessoa ) REFERENCES T_AM_GRR_PESSOA ( cd_pessoa ) ;

-- TABELA HIST_PRECO
ALTER TABLE T_AM_GRR_HIST_PRECO 
ADD CONSTRAINT FK_AM_HBV_PROD_SERV 
FOREIGN KEY ( cd_tipo_servico ) 
REFERENCES T_AM_GRR_PRODUTO_SERVICO ( cd_tipo_servico ) ;

-- TABELA QUARTO
ALTER TABLE T_AM_GRR_QUARTO 
ADD CONSTRAINT FK_AM_HBV_QUARTO_TIPOQUARTO 
FOREIGN KEY ( cd_tipo_quarto ) REFERENCES T_AM_GRR_TIPO_QUARTO(cd_tipo_quarto);

-- TABELA REL_CHEQUE
ALTER TABLE T_AM_GRR_REL_CHEQUE 
ADD CONSTRAINT FK_AM_HBV_RELCHEQUE_PAGCHEQUE 
FOREIGN KEY ( cd_pagto_cheque, cd_hospedagem ) 
REFERENCES T_AM_GRR_PAG_CHEQUE ( cd_pagto_cheque, cd_hospedagem );

-- TABELA RESERVA QUARTO
ALTER TABLE T_AM_GRR_RESERVA_QUARTO 
ADD CONSTRAINT FK_AM_HBV_RESERVAQTO_RESERVA 
FOREIGN KEY ( cd_reserva ) REFERENCES T_AM_GRR_RESERVA ( cd_reserva );

ALTER TABLE T_AM_GRR_RESERVA_QUARTO 
ADD CONSTRAINT FK_AM_HBV_RESERVAQUARTO_QUARTO 
FOREIGN KEY ( cd_quarto ) REFERENCES T_AM_GRR_QUARTO ( cd_quarto );

-- TABELA RESERVA
ALTER TABLE T_AM_GRR_RESERVA 
ADD CONSTRAINT FK_AM_HBV_RESERVA_CLIENTE 
FOREIGN KEY ( cd_cliente ) REFERENCES T_AM_GRR_CLIENTE ( cd_cliente );

ALTER TABLE T_AM_GRR_RESERVA 
ADD CONSTRAINT FK_AM_HBV_RESERVA_FUNC 
FOREIGN KEY (cd_funcionario) REFERENCES T_AM_GRR_FUNCIONARIO (cd_funcionario);


